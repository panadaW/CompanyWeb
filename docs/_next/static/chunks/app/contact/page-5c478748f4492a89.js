(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{7801:function(e,s,r){Promise.resolve().then(r.bind(r,8650))},8650:function(e,s,r){"use strict";r.d(s,{default:function(){return d}});var t=r(7437),a=r(2265),m=r(9501),l=r(3590),n=r(7119),o=r(4743);let i=n.Ry({name:n.Z_().min(2,"姓名至少2个字符"),email:n.Z_().email("请输入有效的邮箱地址"),phone:n.Z_().optional(),message:n.Z_().min(10,"留言至少10个字符")});function d(){let[e,s]=(0,a.useState)(!1),[r,n]=(0,a.useState)("idle"),{register:d,handleSubmit:c,formState:{errors:x},reset:u}=(0,m.cI)({resolver:(0,l.F)(i)}),p=async e=>{s(!0),n("idle");try{(await fetch("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(n("success"),u()):n("error")}catch(e){n("error")}finally{s(!1)}};return(0,t.jsxs)("form",{onSubmit:c(p),className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:["姓名 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{...d("name"),type:"text",id:"name",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"请输入您的姓名"}),x.name&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:["邮箱 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{...d("email"),type:"email",id:"email",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"your.email@example.com"}),x.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"电话"}),(0,t.jsx)("input",{...d("phone"),type:"tel",id:"phone",className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"138-0013-8000"}),x.phone&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.phone.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:["留言 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{...d("message"),id:"message",rows:6,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 text-gray-900 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500 sm:text-sm",placeholder:"请输入您的留言..."}),x.message&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:x.message.message})]}),"success"===r&&(0,t.jsx)("div",{className:"rounded-md bg-green-50 p-4",children:(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"感谢您的留言！我们会尽快与您联系。"})}),"error"===r&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,t.jsx)("p",{className:"text-sm font-medium text-red-800",children:"提交失败，请稍后重试。"})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:e,className:"inline-flex w-full items-center justify-center rounded-md bg-primary-600 px-6 py-3 text-base font-semibold text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?"提交中...":(0,t.jsxs)(t.Fragment,{children:["提交留言",(0,t.jsx)(o.Z,{className:"ml-2 h-5 w-5"})]})})})]})}}},function(e){e.O(0,[512,971,117,744],function(){return e(e.s=7801)}),_N_E=e.O()}]);